ÌååÏùºÎ™Ö: ADMIN_CONSOLE_OVERHAUL_MASTER_SPEC.md
ÏïÑÎûò ÎÇ¥Ïö©ÏùÑ Î≥µÏÇ¨Ìï¥ÏÑú Í∞úÎ∞úÏûêÏóêÍ≤å Ï†ÑÎã¨Ìï¥ Ï£ºÏÑ∏Ïöî.

üèóÔ∏è Admin Console Master Overhaul Specification
Project: ADC-GenAI Platform Admin Console (Phase 2) Date: 2026-01-19 Priority: Critical Objective: Transform the current mockup UI into a fully functional "Control Tower" for Data Operations, Simulation Management, and AI Tuning.

üìå Executive Summary (Í∞úÏöî)
ÌòÑÏû¨ Ïñ¥ÎìúÎØº ÏΩòÏÜîÏùò Îã®Ïàú Î∑∞(View) Í∏∞Îä•ÏùÑ ÎÑòÏñ¥, Îç∞Ïù¥ÌÑ∞ ÏàòÏßë-Í≤ÄÏàò-Î∞úÌñâ(Publication)Ïùò Ï†ÑÏ≤¥ ÌååÏù¥ÌîÑÎùºÏù∏ÏùÑ ÌÜµÏ†úÌïòÍ≥†, AI ÏóêÏù¥Ï†ÑÌä∏Ïùò Î°úÏßÅÏùÑ ÏÑ∏Î∂ÄÏ†ÅÏúºÎ°ú ÌäúÎãùÌï† Ïàò ÏûàÎäî Í∏∞Îä•ÏùÑ Íµ¨ÌòÑÌï¥Ïïº Ìï©ÎãàÎã§. ÎòêÌïú, ÏÇ¨Ïö©Ïûê Î∞è Í¥ÄÎ¶¨ÏûêÎ•º ÏúÑÌïú ÌûàÏä§ÌÜ†Î¶¨ ÏïÑÏπ¥Ïù¥Îπô Í∏∞Îä•Ïù¥ Ï∂îÍ∞ÄÎê©ÎãàÎã§.

1. üîÑ Data Operations (Îç∞Ïù¥ÌÑ∞ ÌååÏù¥ÌîÑÎùºÏù∏)
Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨ ÌîÑÎ°úÏÑ∏Ïä§Î•º **[Source(ÏàòÏßë) -> Staging(Í≤ÄÏàò) -> Golden Set(ÌôïÏ†ï)]**Ïùò 3Îã®Í≥ÑÎ°ú Î™ÖÌôïÌûà Î∂ÑÎ¶¨Ìï©ÎãàÎã§.

1.1. Data Sources (ÌÅ¨Î°§ÎßÅ Ï†úÏñ¥)
Target: ClinicalTrials.gov, PubMed, Perplexity, Patent DB

New UI Features:

Scheduler Modal: Í∞Å ÏÜåÏä§Î≥Ñ ‚öôÔ∏è Settings Î≤ÑÌäº Ï∂îÍ∞Ä. Cron Ìè¨Îß∑(Ïòà: Îß§Ïùº 03:00)ÏúºÎ°ú ÏàòÏßë Ï£ºÍ∏∞ ÏÑ§Ï†ï Í∏∞Îä•.

Manual Trigger: Run Now Î≤ÑÌäº ÌÅ¥Î¶≠ Ïãú Ï¶âÏãú ÌÅ¨Î°§ÎßÅ ÏõåÏª§ Ïã§Ìñâ (Î∞±ÏóîÎìú /api/crawl/{source} Ìò∏Ï∂ú).

Live Logs: "Last Run: Success (15 new records)" ÌòïÌÉúÏùò ÏÉÅÌÉú Î°úÍ∑∏ ÌëúÏãú. Ïã§Ìå® Ïãú ÏóêÎü¨ Î°úÍ∑∏ Î∞è Ïû¨ÏãúÎèÑ Î≤ÑÌäº ÌôúÏÑ±Ìôî.

1.2. Staging Area (Ïã†Í∑ú ÌÉ≠: Îç∞Ïù¥ÌÑ∞ Í≤ÄÏàòÏÜå)
ÌÅ¨Î°§ÎßÅÎêú Raw DataÍ∞Ä Í≥®Îì†ÏÖãÏúºÎ°ú ÎÑòÏñ¥Í∞ÄÍ∏∞ Ï†Ñ ÎåÄÍ∏∞ÌïòÎäî Ïû•ÏÜåÏûÖÎãàÎã§.

Tab Name: Inbox (Drafts)

UI Features:

Draft Table: AIÍ∞Ä 1Ï∞® ÏöîÏïΩÌïú Îç∞Ïù¥ÌÑ∞ Î¶¨Ïä§Ìä∏ ÌëúÏãú (Source, Confidence Score Ìè¨Ìï®).

Comparison View: ÌôîÎ©¥ Î∂ÑÌï†(Split View)Î°ú Ï¢åÏ∏°Ïóî 'ÏõêÎ≥∏ ÌÖçÏä§Ìä∏', Ïö∞Ï∏°Ïóî 'AI Ï∂îÏ∂úÍ∞í'ÏùÑ Î≥¥Ïó¨Ï£ºÏñ¥ Í≤ÄÏ¶ù Ïö©Ïù¥ÏÑ± ÌôïÎ≥¥.

Review Actions:

‚úÖ Approve: ÏäπÏù∏ Ïãú Golden Set Î∞è Vector DBÎ°ú Ïù¥Îèô.

‚úèÔ∏è Edit: AI Ï∂îÏ∂úÍ∞íÏù¥ ÌãÄÎ¶∞ Í≤ΩÏö∞ Í¥ÄÎ¶¨ÏûêÍ∞Ä ÏàòÏ†ï ÌõÑ ÏäπÏù∏.

‚ùå Reject: Îç∞Ïù¥ÌÑ∞ ÏÇ≠Ï†ú.

1.3. Golden Set Editor (Ï†ïÌòï Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨)
ÌôïÏ†ïÎêú ADC ÏïΩÎ¨º Îç∞Ïù¥ÌÑ∞Î•º Í¥ÄÎ¶¨ÌïòÎäî Î©îÏù∏ DB ÌôîÎ©¥ÏûÖÎãàÎã§.

New Columns & Features:

Chemical Structure: SMILES ÏΩîÎìúÎ•º **2D Íµ¨Ï°∞ Ïù¥ÎØ∏ÏßÄ(Canvas)**Î°ú Î†åÎçîÎßÅÌïòÏó¨ ÌëúÏãú (RDKit/SmilesDrawer ÌôúÏö©). ÌÅ¥Î¶≠ Ïãú ÌôïÎåÄ Î™®Îã¨.

IP Status (Traffic Light):

üî¥ Active (ÌäπÌóà Î≥¥Ìò∏ Ï§ë)

üü° Expiring Soon (ÎßåÎ£å ÏûÑÎ∞ï)

üü¢ Expired (ÏûêÏú† ÏÇ¨Ïö© Í∞ÄÎä•)

Failure Analysis: Outcome Ïª¨Îüº Ï∂îÍ∞Ä (Success, Failure, Terminated). Ïã§Ìå® Îç∞Ïù¥ÌÑ∞Îäî Î∂âÏùÄ Î∞∞Í≤ΩÏÉâÏúºÎ°ú Íµ¨Î∂ÑÌïòÍ≥† Failure Reason ÌïÑÎìú ÌïÑÏàò ÎÖ∏Ï∂ú.

Vector Sync Status: Îç∞Ïù¥ÌÑ∞ ÏàòÏ†ï Ïãú Re-index Needed ÏÉÅÌÉú ÌëúÏãú (Brain Icon ÌôúÏö©).

Manual Entry: + Add New Data Î≤ÑÌäºÏúºÎ°ú ÏàòÎèô Îç∞Ïù¥ÌÑ∞ ÏûÖÎ†• Ìèº Ï†úÍ≥µ.

1.4. Knowledge Base Manager (ÎπÑÏ†ïÌòï/Îâ¥Ïä§ Í¥ÄÎ¶¨)
Ï†ïÌòï Îç∞Ïù¥ÌÑ∞(Golden Set)ÏôÄ Î≥ÑÎèÑÎ°ú, Îâ¥Ïä§ÎÇò ÎÖºÎ¨∏ ÌÖçÏä§Ìä∏Î•º Í¥ÄÎ¶¨ÌïòÎäî ÌÉ≠ÏûÖÎãàÎã§.

Daily Curation UI (Morning Briefing):

Evidence Card: Í∞Å Îâ¥Ïä§ ÏïÑÏù¥ÌÖúÏóê AI Relevance Score(Ï†êÏàò), Source Tier(Ïã†Î¢∞ÎèÑ Îì±Í∏â), Key Facts(3Ï§Ñ ÏöîÏïΩ) ÌëúÏãú.

Smart Action: Auto-Approve High Tier (Ïã†Î¢∞ÎèÑ ÎÜíÏùÄ ÏÜåÏä§ ÏùºÍ¥Ñ ÏäπÏù∏) Î≤ÑÌäº Ï∂îÍ∞Ä.

Reasoning Tooltip: AIÍ∞Ä Ïù¥ Îâ¥Ïä§Î•º Ï∂îÏ≤úÌïú Ïù¥Ïú†("Í≤ΩÏüÅÏÇ¨ ÏûÑÏÉÅ Ïã§Ìå® Í¥ÄÎ†® Ï§ëÏöî Îâ¥Ïä§ÏûÑ")Î•º Ìà¥ÌåÅÏúºÎ°ú Ï†úÍ≥µ.

2. üóÇÔ∏è Project History & Simulation Logs
2.1. User Side: My Projects (ÎÇ¥ Î≥¥Í¥ÄÌï®)
Location: ÏÇ¨Ïö©Ïûê ÎåÄÏãúÎ≥¥Îìú ÏÇ¨Ïù¥ÎìúÎ∞î.

Features:

Project List: ÌîÑÎ°úÏ†ùÌä∏Î™Ö, ÌÉÄÍ≤ü, ÎÇ†Ïßú, ÏÉÅÌÉú(Completed/Failed/Processing) ÌëúÏãú.

Click Action: Î¶¨Ïä§Ìä∏ ÌÅ¥Î¶≠ Ïãú **Í≤∞Í≥º ÎåÄÏãúÎ≥¥Îìú(Result Viewer)**Î°ú Ïù¥Îèô.

Assets: PDF Î¶¨Ìè¨Ìä∏ Îã§Ïö¥Î°úÎìú Î≤ÑÌäº Ï†úÍ≥µ.

Real-time: ÏßÑÌñâ Ï§ë ÏÉÅÌÉú ÏûêÎèô ÏóÖÎç∞Ïù¥Ìä∏ (Supabase Realtime).

2.2. Admin Side: Simulation Logs (Í¥ÄÎ¶¨Ïûê Î°úÍ∑∏)
Location: User Operations ÎÇ¥ ÌïòÏúÑ Î©îÎâ¥.

Features:

Full Monitoring: Î™®Îì† ÏÇ¨Ïö©ÏûêÏùò ÏãúÎÆ¨Î†àÏù¥ÏÖò ÏöîÏ≤≠ Í∏∞Î°ù Ï°∞Ìöå.

Error Detail: Ïã§Ìå® Í±¥ ÌÅ¥Î¶≠ Ïãú ÏÉÅÏÑ∏ ÏóêÎü¨ Î°úÍ∑∏(Stack Trace) ÌôïÏù∏.

Admin Retry: ÏÇ¨Ïö©ÏûêÎ•º ÎåÄÏã†ÌïòÏó¨ Í¥ÄÎ¶¨Ïûê Í∂åÌïúÏúºÎ°ú Ïû¨Ïã§Ìñâ(Retry) Í∏∞Îä• (ÌÅ¨Î†àÎîß ÎØ∏Ï∞®Í∞ê).

3. üß† AI Tuning (ÌîÑÎ°¨ÌîÑÌä∏ ÏóîÏßÄÎãàÏñ¥ÎßÅ)
AI ÏãúÏä§ÌÖúÏùò 3Í∞ÄÏßÄ Í≥ÑÏ∏µÏùÑ Í∞ÅÍ∞Å ÎèÖÎ¶ΩÏ†ÅÏúºÎ°ú Ï†úÏñ¥Ìï† Ïàò ÏûàÎèÑÎ°ù ÌÉ≠ÏùÑ Ïû¨Íµ¨ÏÑ±Ìï©ÎãàÎã§.

Tab 1: Orchestrator (Main Router)
Role: ÏÇ¨Ïö©Ïûê ÏùòÎèÑÎ•º ÌååÏïÖÌïòÍ≥† Ï†ÅÏ†àÌïú ÏóêÏù¥Ï†ÑÌä∏Î•º Ìò∏Ï∂úÌïòÎäî Î©îÏù∏ ÎëêÎáå.

Editable: ÎùºÏö∞ÌåÖ Î°úÏßÅ ÌîÑÎ°¨ÌîÑÌä∏ (Ïòà: "ÏïàÍµ¨ ÎèÖÏÑ± ÏßàÎ¨∏ÏùÄ Toxicology AgentÎ°ú Î≥¥ÎÇ¥Îùº").

Tab 2: Specialized Agents (Workers)
UI: ÎìúÎ°≠Îã§Ïö¥ÏúºÎ°ú Í∞úÎ≥Ñ ÏóêÏù¥Ï†ÑÌä∏ ÏÑ†ÌÉù (Structure, Toxicology, IP/Patent, Clinical).

Editable: Í∞Å ÏóêÏù¥Ï†ÑÌä∏Ïùò ÌéòÎ•¥ÏÜåÎÇò, Ï∂úÎ†• Ìè¨Îß∑, ÏÇ¨Í≥† Í≥ºÏ†ï(CoT) ÌîÑÎ°¨ÌîÑÌä∏.

Tab 3: RAG Generator (Writer)
Role: Í≤ÄÏÉâÎêú Î¨∏ÏÑúÎ•º Î∞îÌÉïÏúºÎ°ú ÏµúÏ¢Ö ÎãµÎ≥ÄÏùÑ ÏûëÏÑ±ÌïòÎäî Î™®Îìà.

Editable: ÎãµÎ≥Ä Ïä§ÌÉÄÏùº, Ïù∏Ïö©Íµ¨(Citation) ÌòïÏãù, ÎπÑÏ†ÑÎ¨∏Í∞ÄÏö© Ïö©Ïñ¥ ÏàúÌôî ÏßÄÏπ® Îì±.

4. üíæ Database Schema Changes (Backend)
ÏúÑ Í∏∞Îä• Íµ¨ÌòÑÏùÑ ÏúÑÌï¥ Supabase ÌÖåÏù¥Î∏îÏóê Îã§Ïùå Ïª¨ÎüºÍ≥º ÌÖåÏù¥Î∏îÏùÑ Ï∂îÍ∞ÄÌï¥Ïïº Ìï©ÎãàÎã§.

SQL
-- 1. Golden Set Library ÏóÖÎç∞Ïù¥Ìä∏
ALTER TABLE golden_set_library 
ADD COLUMN outcome_type text CHECK (outcome_type IN ('Success', 'Failure', 'Terminated')),
ADD COLUMN failure_reason text,
ADD COLUMN ip_status text DEFAULT 'Unknown', -- Active, Expired, etc.
ADD COLUMN smiles_code text, -- ÌôîÌïô Íµ¨Ï°∞Ïãù
ADD COLUMN patent_id text,
ADD COLUMN patent_expiry date;

-- 2. Knowledge Base (Ïã†Í∑ú ÌÖåÏù¥Î∏î)
CREATE TABLE knowledge_base (
    id uuid DEFAULT gen_random_uuid() PRIMARY KEY,
    source_type text, -- 'News', 'PubMed', 'Report'
    title text,
    summary text,
    content text, -- ÏõêÎ¨∏
    relevance_score float, -- AI Ï§ëÏöîÎèÑ Ï†êÏàò
    source_tier int, -- 1(High) ~ 3(Low)
    ai_reasoning text, -- Ï∂îÏ≤ú ÏÇ¨Ïú†
    rag_status text DEFAULT 'pending', -- pending, indexed, excluded
    created_at timestamptz DEFAULT now()
);

-- 3. Simulation Logs (Projects ÌÖåÏù¥Î∏î ÌôúÏö©)
-- Í∏∞Ï°¥ Projects ÌÖåÏù¥Î∏îÏóê error_log Ïª¨ÎüºÏù¥ ÏûàÎäîÏßÄ ÌôïÏù∏ÌïòÍ≥† ÏóÜÏúºÎ©¥ Ï∂îÍ∞Ä
ALTER TABLE projects ADD COLUMN error_detail text;
5. üõ†Ô∏è Development Checklist (Check before Push)
[ ] Data Ops: ÌÅ¨Î°§ÎßÅ Ïä§ÏºÄÏ§ÑÎü¨Í∞Ä Î∞±ÏóîÎìú CronÍ≥º Ïó∞ÎèôÎêòÎäîÍ∞Ä?

[ ] Staging: InboxÏóêÏÑú 'ÏäπÏù∏' ÎàÑÎ•¥Î©¥ Golden SetÏúºÎ°ú Ïù¥ÎèôÌïòÎäîÍ∞Ä?

[ ] Chemistry: SMILES ÏΩîÎìúÍ∞Ä Ï∫îÎ≤ÑÏä§Ïóê ÌôîÌïô Íµ¨Ï°∞Î°ú Í∑∏Î†§ÏßÄÎäîÍ∞Ä?

[ ] Failure Logic: Ïã§Ìå®Ìïú ÏïΩÎ¨º Îç∞Ïù¥ÌÑ∞ÎèÑ Ï°∞Ìöå Î∞è ÌïÑÌÑ∞ÎßÅÏù¥ Í∞ÄÎä•ÌïúÍ∞Ä?

[ ] History: ÏÇ¨Ïö©ÏûêÍ∞Ä ÏßÄÎÇú ÌîÑÎ°úÏ†ùÌä∏ Í≤∞Í≥ºÎ•º Îã§Ïãú Ïó¥Ïñ¥Î≥º Ïàò ÏûàÎäîÍ∞Ä?

[ ] Knowledge Base: Îâ¥Ïä§ Îç∞Ïù¥ÌÑ∞Î•º 'ÏäπÏù∏'ÌïòÎ©¥ RAG Ïù∏Îç±Ïä§Ïóê Ìè¨Ìï®ÎêòÎäîÍ∞Ä?

[ ] AI Tuning: Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÌÑ∞ÏôÄ RAG ÎãµÎ≥Ä ÌîÑÎ°¨ÌîÑÌä∏Í∞Ä Î∂ÑÎ¶¨ÎêòÏñ¥ Ï†ÄÏû•ÎêòÎäîÍ∞Ä?

‚ûï [Addendum] Missing UI Components & Backend Rules (Required)
1. Admin Overview (Dashboard Home)

Page: /admin/overview (Landing page after login)

Feature: A high-level dashboard showing System Health.

UI Elements:

System Status: Traffic lights for API Server, Background Worker, and DB connectivity.

Today's KPIs: Cards showing "Docs Crawled Today", "Simulations Ran Today", "Error Rate".

2. Enhanced Manual Entry Form (UX)

Context: In Golden Set Library -> + Add Data Modal.

Feature: Real-time SMILES Preview.

When Admin pastes a SMILES string into the input field, the 2D chemical structure must be rendered immediately below the input using smiles-drawer.

Purpose: To verify the structure visually before saving to DB.

3. Knowledge Base Bulk Actions

Context: In Knowledge Base List Tab.

Feature: Add a ‚ö° Auto-Approve Tier 1 button at the top.

Logic: Automatically approves all items where Source Tier == 1 and Relevance Score > 80.

4. User Dashboard (Customer View)

Page: /dashboard/my-projects

Feature: A table view for users to track their simulation history.

Columns: Date, Target Name, Status Badge (Processing/Completed/Failed).

Actions:

View Result: Redirects to the detailed result dashboard.

Download Report: Downloads the generated PDF.

‚ö†Ô∏è Backend Implementation Guidelines (Strict)
DO NOT Create New Microservices.

The backend (backend/app) already exists.

Do not create new files like data_ops.py if a similar router exists.

Reuse existing routers: Append the new logic (Approve/Reject/Crawl) to existing admin.py or data_processing.py routers.

Database: Use ALTER TABLE to update the schema. Do not drop/recreate tables to preserve existing data.